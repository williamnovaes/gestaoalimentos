<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:composite="http://java.sun.com/jsf/composite">

	<composite:interface>

		<composite:attribute name="id" required="true" />
		<composite:attribute name="exibirModal" required="true" />
		<composite:attribute name="titulo" required="true" />
		<composite:attribute name="render" required="false" />
		<composite:attribute name="botoes" required="false" default="true" />
		<composite:attribute name="botaoFechar" required="false" default="true" />
		<composite:attribute name="styleBotao"  required="false" default="btn btn-default btn-success" />
		

		<composite:attribute name="fecharModal"
			method-signature="java.lang.String  action()" required="false" />
		
 			
		<composite:attribute name="salvar"
			method-signature="java.lang.String  action()" required="false" />
			

	</composite:interface>
	
<!-- 	<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" -->
<!-- 		aria-labelledby="modal" data-backdrop="static" data-keyboard="false"> -->
<!-- 		<div class="modal-dialog  modal-popup"> -->
<!-- 			<div class="modal-content"> -->
<!-- 				<h:commandLink title="Fechar" styleClass="close-link" -->
<!-- 					immediate="true"> -->
<!-- 					<i class="icon_close_alt2"></i> -->
<!-- 				</h:commandLink> -->

<!-- 				<div class="modal-header"> -->
<!-- 					<h3 class="modal-title">Login</h3> -->
<!-- 				</div> -->

<!-- 				<h:inputText id="login" class="form-control form-white" -->
<!-- 					placeholder="Login" value="#{credencial.username}" /> -->
					
<!-- 				<h:inputSecret id="passwd" class="form-control form-white" -->
<!-- 					placeholder="Password" value="#{credencial.password}" /> -->

<!-- 				<h:commandLink value="Sign in" styleClass="btn btn-submit" action="#{loginBean.fazerLogin()}" /> -->
<!-- 			</div> -->
<!-- 		</div> -->
<!-- 	</div> -->

	<div class="modal fade" id="#{cc.attrs.id}" tabindex="-1" role="dialog" 
		aria-labelledby="modal" data-backdrop="static" data-keyboard="false">
		<div class="modal-dialog">
			<div class="modal-content  modal-popup">
				<h:commandLink title="Fechar" styleClass="close-link" 
						data-dismiss="modal">
					<i class="icon_close_alt2"></i>
					<f:ajax execute="@this" event="click" 
						render="#{cc.attrs.id}:controleModalPG"
						listener="#{cc.attrs.fecharModal}"/>
				</h:commandLink>
				
				<div class="modal-header">
					<h3 class="modal-title"><h:outputText value="#{cc.attrs.titulo}" /></h3>
				</div>

				<div class="modal-body">
					<composite:insertChildren />
				</div>

				<div class="modal-footer">
					<h:commandLink value="Salvar" styleClass="#{cc.attrs.styleBotao}"
								   rendered="#{cc.attrs.salvar ne null and cc.attrs.botoes}">
						<f:ajax render="#{cc.attrs.id}:controleModalPG" 
								event="click" execute="@this passwd login message"
								listener="#{cc.attrs.salvar}" />
					</h:commandLink>
				
					<h:commandLink value="Fechar" styleClass="btn btn-default"
									rendered="#{cc.attrs.botoes and cc.attrs.botaoFechar}">
						<f:ajax render="#{cc.attrs.id}:controleModalPG" 
								event="click" execute="@this message"
								listener="#{cc.attrs.fecharModal}" />
					</h:commandLink>
				</div>
			</div>
		</div>
	</div>

	<h:panelGroup id="controleModalPG">
		<h:panelGroup rendered="#{cc.attrs.exibirModal}">
			<script type="text/javascript">
 				$(document).ready(function() { 
  					$('#loginModal').modal('show'); 
  				}); 
 			</script>
		</h:panelGroup>
		<h:panelGroup rendered="#{!cc.attrs.exibirModal}">
			<script type="text/javascript">
				$(document).ready(function() {
					$('#loginModal').modal('hide'); 
				}); 
			</script>
		</h:panelGroup>
	</h:panelGroup>
</ui:composition>